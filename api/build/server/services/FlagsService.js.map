{"version":3,"sources":["../../../server/services/FlagsService.js"],"names":["FlagsService","flags","flagsData","map","data","flag","Flags","id","car_id","created_on","reason","description","carId","allFlags","length","i","Date","now","push","reportData","getAllFlags"],"mappings":";;;;;;;AAGA;;AACA;;;;;;;;;;IAEMA,Y;;;AACJ,0BAAc;AAAA;;AACZ,SAAKC,KAAL,GAAaC,iBAAb;AACD;;;;kCAEa;AACZ,aAAO,KAAKD,KAAL,CAAWE,GAAX,CAAe,UAACC,IAAD,EAAU;AAC9B,YAAMC,IAAI,GAAG,IAAIC,iBAAJ,EAAb;AACAD,QAAAA,IAAI,CAACE,EAAL,GAAUH,IAAI,CAACG,EAAf;AACAF,QAAAA,IAAI,CAACG,MAAL,GAAcJ,IAAI,CAACI,MAAnB;AACAH,QAAAA,IAAI,CAACI,UAAL,GAAkBL,IAAI,CAACK,UAAvB;AACAJ,QAAAA,IAAI,CAACK,MAAL,GAAcN,IAAI,CAACM,MAAnB;AACAL,QAAAA,IAAI,CAACM,WAAL,GAAmBP,IAAI,CAACO,WAAxB;AACA,eAAON,IAAP;AACD,OARM,CAAP;AASD;;;2BAEMO,K,EAAOF,M,EAAQC,W,EAAa;AACjC,UAAME,QAAQ,GAAG,KAAKZ,KAAL,CAAWa,MAA5B;AACA,UAAMP,EAAE,GAAGM,QAAQ,GAAG,CAAtB;AACA,UAAME,CAAC,GAAGR,EAAE,GAAG,CAAf;AACA,UAAMF,IAAI,GAAG;AACXE,QAAAA,EAAE,EAAFA,EADW;AAEXC,QAAAA,MAAM,EAAEI,KAFG;AAGXH,QAAAA,UAAU,EAAEO,IAAI,CAACC,GAAL,EAHD;AAIXP,QAAAA,MAAM,EAANA,MAJW;AAKXC,QAAAA,WAAW,EAAXA;AALW,OAAb;AAOA,WAAKV,KAAL,CAAWiB,IAAX,CAAgBb,IAAhB;AACA,UAAMc,UAAU,GAAG,KAAKC,WAAL,EAAnB;AACA,aAAO;AACLb,QAAAA,EAAE,EAAEY,UAAU,CAACJ,CAAD,CAAV,CAAcR,EADb;AAELC,QAAAA,MAAM,EAAEW,UAAU,CAACJ,CAAD,CAAV,CAAcP,MAFjB;AAGLE,QAAAA,MAAM,EAAES,UAAU,CAACJ,CAAD,CAAV,CAAcL,MAHjB;AAILC,QAAAA,WAAW,EAAEQ,UAAU,CAACJ,CAAD,CAAV,CAAcJ;AAJtB,OAAP;AAMD;;;;;;eAGY,IAAIX,YAAJ,E","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable consistent-return */\r\nimport Flags from '../models/Flags';\r\nimport flagsData from '../database/flags';\r\n\r\nclass FlagsService {\r\n  constructor() {\r\n    this.flags = flagsData;\r\n  }\r\n\r\n  getAllFlags() {\r\n    return this.flags.map((data) => {\r\n      const flag = new Flags();\r\n      flag.id = data.id;\r\n      flag.car_id = data.car_id;\r\n      flag.created_on = data.created_on;\r\n      flag.reason = data.reason;\r\n      flag.description = data.description;\r\n      return flag;\r\n    });\r\n  }\r\n\r\n  report(carId, reason, description) {\r\n    const allFlags = this.flags.length;\r\n    const id = allFlags + 1;\r\n    const i = id - 1;\r\n    const flag = {\r\n      id,\r\n      car_id: carId,\r\n      created_on: Date.now(),\r\n      reason,\r\n      description,\r\n    };\r\n    this.flags.push(flag);\r\n    const reportData = this.getAllFlags();\r\n    return {\r\n      id: reportData[i].id,\r\n      car_id: reportData[i].car_id,\r\n      reason: reportData[i].reason,\r\n      description: reportData[i].description,\r\n    };\r\n  }\r\n}\r\n\r\nexport default new FlagsService();\r\n"],"file":"FlagsService.js"}