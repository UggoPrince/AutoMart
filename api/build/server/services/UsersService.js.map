{"version":3,"sources":["../../../server/services/UsersService.js"],"names":["UsersService","users","usersData","map","data","user","Users","id","firstname","lastname","email","password","address","is_admin","phone_number","getAllUsers","i","length","exist","token","fisrtname","error","valid","getUserById","phoneNumber","allUsers","push"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\r\nimport Users from '../models/Users';\r\nimport usersData from '../database/users';\r\n\r\nclass UsersService {\r\n  constructor() {\r\n    this.users = usersData;\r\n  }\r\n\r\n  getAllUsers() {\r\n    return this.users.map((data) => {\r\n      const user = new Users();\r\n      user.id = data.id;\r\n      user.firstname = data.firstname;\r\n      user.lastname = data.lastname;\r\n      user.email = data.email;\r\n      user.password = data.password;\r\n      user.address = data.address;\r\n      user.is_admin = data.is_admin;\r\n      user.phone_number = data.phone_number;\r\n      return user;\r\n    });\r\n  }\r\n\r\n  getUserById(id) {\r\n    const users = this.getAllUsers();\r\n    for (let i = 0; i < users.length; i += 1) {\r\n      if (users[i].id === id) {\r\n        return {\r\n          exist: true,\r\n          data: {\r\n            token: '45erkjherht45495783',\r\n            id: users[i].id,\r\n            fisrtname: users[i].fisrtname,\r\n            lastname: users[i].lastname,\r\n            email: users[i].email,\r\n            password: users[i].password,\r\n            address: users[i].address,\r\n            is_admin: users[i].is_admin,\r\n            phone_number: users[i].phone_number,\r\n          },\r\n        };\r\n      }\r\n    }\r\n    return { exist: false, error: 'no such user with this id.' };\r\n  }\r\n\r\n  signin(email, password) {\r\n    const valid = true;\r\n    for (let i = 0; i < this.users.length; i += 1) {\r\n      if (this.users[i].email === email && this.users[i].password === password) {\r\n        return {\r\n          valid,\r\n          user: this.getUserById(this.users[i].id),\r\n        };\r\n      }\r\n    }\r\n    return { valid: false, error: 'Invalid password.' };\r\n  }\r\n\r\n  signup(fisrtname, lastname, email, password, address, phoneNumber) {\r\n    const allUsers = this.users.length;\r\n    const id = allUsers + 1;\r\n    const user = {\r\n      id,\r\n      fisrtname,\r\n      lastname,\r\n      email,\r\n      password,\r\n      address,\r\n      is_admin: false,\r\n      phone_number: phoneNumber,\r\n    };\r\n    this.users.push(user);\r\n    return this.getUserById(id);\r\n  }\r\n\r\n  emailExist(email) {\r\n    for (let i = 0; i < this.users.length; i += 1) {\r\n      if (this.users[i].email === email) return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default new UsersService();\r\n"],"file":"UsersService.js"}