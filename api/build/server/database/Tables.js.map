{"version":3,"sources":["../../../server/database/Tables.js"],"names":["createTables","dropTables","seedUsers","seedCars"],"mappings":";;;;;;;AAAA;AACO,IAAMA,YAAY,ywDAAlB;;AA8CA,IAAMC,UAAU,GAAG,kDAAnB;;AAEA,IAAMC,SAAS,oXAAf;;AAOA,IAAMC,QAAQ,s/BAAd","sourcesContent":["/* eslint-disable linebreak-style */\r\nexport const createTables = `\r\n    CREATE TABLE IF NOT EXISTS\r\n        users(\r\n            id SERIAL PRIMARY KEY,\r\n            email VARCHAR(60) NOT NULL UNIQUE,\r\n            first_name VARCHAR(100) NOT NULL,\r\n            last_name VARCHAR(100) NOT NULL,\r\n            password VARCHAR NOT NULL,\r\n            address VARCHAR NOT NULL,\r\n            is_admin BOOLEAN DEFAULT false\r\n        );\r\n    CREATE TABLE IF NOT EXISTS\r\n        cars(\r\n            id SERIAL PRIMARY KEY,\r\n            owner INT REFERENCES users (id),\r\n            created_on TIMESTAMP NOT NULL DEFAULT NOW(),\r\n            state VARCHAR(4) NOT NULL,\r\n            CONSTRAINT car_state CHECK(state = 'new' OR state = 'used'),\r\n            status VARCHAR NOT NULL DEFAULT 'available',\r\n            CONSTRAINT car_status CHECK(status = 'available' OR status = 'sold'),\r\n            price DECIMAL NOT NULL,\r\n            title VARCHAR DEFAULT NULL,\r\n            manufacturer VARCHAR NOT NULL,\r\n            model VARCHAR NOT NULL,\r\n            body_type VARCHAR(30) NOT NULL,\r\n            image_url VARCHAR\r\n        );\r\n    CREATE TABLE IF NOT EXISTS\r\n        orders(\r\n            id SERIAL PRIMARY KEY,\r\n            buyer INT REFERENCES users (id),\r\n            car_id INT REFERENCES cars (id),\r\n            created_on TIMESTAMP NOT NULL DEFAULT NOW(),\r\n            amount DECIMAL NOT NULL,\r\n            status VARCHAR NOT NULL DEFAULT 'pending',\r\n            CONSTRAINT order_status CHECK(status = 'pending' OR\r\n                status = 'accepted' OR status = 'rejected')\r\n        );\r\n    CREATE TABLE IF NOT EXISTS\r\n        flags(\r\n            id SERIAL PRIMARY KEY,\r\n            car_id INT REFERENCES cars (id),\r\n            created_on TIMESTAMP NOT NULL DEFAULT NOW(),\r\n            reason VARCHAR NOT NULL,\r\n            description VARCHAR NOT NULL\r\n        );`;\r\nexport const dropTables = 'DROP TABLE IF EXISTS users, cars, orders, flags;';\r\n\r\nexport const seedUsers = `INSERT INTO users (\r\n    first_name, last_name, email, password, address, is_admin\r\n    ) VALUES\r\n    ('john', 'doe', 'johndoe@gmail.com', 'doe123456', 'no 55 ikorodu road', true),\r\n    ('sarah', 'conoh', 'sarahconoh@gmail.com', 'conoh123456', 'no 56 ibadan road', false),\r\n    ('brian', 'emeka', 'brianemeka@gmail.com', 'emeka123456', 'no 10 rumuokoro road', false);`;\r\n\r\nexport const seedCars = `INSERT INTO cars (\r\n    owner, state, status, price, title, manufacturer, model, body_type, image_url\r\n    ) VALUES\r\n    (1, 'new', 'sold', 15000000.00, 'Brand new G-Wagon', 'mercedes', 'g-wagon', 'SUV',\r\n    'https://res.cloudinary.com/dya3r9cfe/image/upload/v1558624490/c1.jpg'),\r\n    (1, 'new', 'available', 6000000.00, 'New venza on sale.', 'toyota', 'venza', 'SUV',\r\n    'https://res.cloudinary.com/dya3r9cfe/image/upload/v1558624479/c9.jpg'),\r\n    (1, 'used', 'available', 9000000.00, 'Ford truck. Buy now while still available.', 'toyota',\r\n    'Fond Pickup Truck', 'Truck', 'https://res.cloudinary.com/dya3r9cfe/image/upload/v1558617991/c14.png'),\r\n    (2, 'used', 'sold', 14000000.00, 'Belgium Mack for sale.', 'Mack', 'Mack 209', 'Trailer',\r\n    'https://res.cloudinary.com/dya3r9cfe/image/upload/v1558624761/c8.jpg'),\r\n    (2, 'new', 'available', 16000000.00, 'New Mercedes truck', 'Mercedes', 'Mercedes 455', 'Trailer',\r\n    'https://res.cloudinary.com/dya3r9cfe/image/upload/v1558624904/c2.jpg');`;\r\n"],"file":"Tables.js"}